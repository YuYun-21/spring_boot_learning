package com.yuyun;

import cn.hutool.core.util.StrUtil;
import cn.hutool.http.HtmlUtil;
import org.junit.jupiter.api.Test;

import java.util.regex.Matcher;
import java.util.regex.Pattern;

/**
 * HuTool工具测试
 *
 * @author hyh
 * @since 2023-11-15
 */
public class HuToolTest {

    @Test
    void test(){
        String s = "0123@4560";
        String substring = s.substring(s.length() - 2);
        System.out.println("substring = " + substring);
        String s1 = StrUtil.subAfter(s, "@", true);
        String s2 = StrUtil.subAfter(s, "@", false);
        System.out.println("s1 = " + s1);
        System.out.println("s2 = " + s2);

        String s3 = StrUtil.removePrefix(s, "0");
        System.out.println("s3 = " + s3);

    }

    @Test
    void HtmlUtilTest(){
        String html = "<p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-autospace:ideograph-numeric;text-align:center;line-height:30.0000pt;\" align=\"center\">&nbsp;</p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-autospace:ideograph-numeric;text-align:center;line-height:30.0000pt;\" align=\"center\">&nbsp;</p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-autospace:ideograph-numeric;text-align:center;line-height:30.0000pt;\" align=\"center\"><span style=\"font-family:宋体;font-size:22.0000pt;\"><font face=\"方正小标宋_GBK\">梁栋</font></span><span style=\"font-family:方正小标宋_GBK;font-size:22.0000pt;\"><font face=\"方正小标宋_GBK\">带队</font></span><span style=\"font-family:宋体;font-size:22.0000pt;\"><font face=\"方正小标宋_GBK\">赴广南县南屏镇</font></span><span style=\"font-family:方正小标宋_GBK;font-size:22.0000pt;\"><font face=\"方正小标宋_GBK\">开展定点帮扶工作</font></span></p><p style=\"margin-left:10.0000pt;text-indent:-10.0000pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-autospace:ideograph-numeric;text-align:center;line-height:30.0000pt;\" align=\"center\">&nbsp;</p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:30.0000pt;\" align=\"justify\"><span style=\"font-family:宋体;font-size:16.0000pt;\">&ensp;&ensp;2023<font face=\"方正仿宋_GBK\">年</font><font face=\"宋体\">7</font><font face=\"方正仿宋_GBK\">月</font><font face=\"宋体\">27</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">、</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\">28<font face=\"方正仿宋_GBK\">日，省政府研究室党组成员、副主任梁栋率</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">队</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">到广南县南屏镇老街村、小阿幕村</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">，</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">向基层干部群众宣讲党的二十大精神</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">，</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">实地走访农户，了解当地产业建设情况</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">，看望驻村工作队员。</font></span></p><p style=\"margin-left:10.0000pt;text-indent:-10.0000pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt\">&nbsp;</p><p style=\"margin: 0pt 0pt 0.0001pt; text-align: center; font-family: Calibri; font-size: 10.5pt;\"><img width=\"603\" height=\"351\" src=\"/edittest/ewebeditor/uploadfile/20230806234518391001.png\" align=\"center\"></p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-indent:32.0000pt;line-height:30.0000pt;\">&nbsp;</p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-indent:32.0000pt;line-height:30.0000pt;\"><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">调研组一行</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">先后</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">到老街村</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">的</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">小冲</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">和</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">木丁村小组</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">、小阿</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">幕村</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">的</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">小阿幕村小组，走</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">访脱贫</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">农户</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">，</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">向基层干部群众宣讲党的二十大精神</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">，</font></span><span style=\"font-family:'Times New Roman';font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">与镇</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">村干部、</font></span><span style=\"font-family:'Times New Roman';font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">驻村工作队</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">员深入</font></span><span style=\"font-family:'Times New Roman';font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">座谈</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">，</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">了解农民增收</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">、</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">高峰牛养殖</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">专业村和</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">绿美村庄建设</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">进展</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">情况</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">，</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">探讨定点帮扶中出现的新情况新问题。</font></span></p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-indent:32.0000pt;line-height:30.0000pt;\"><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\"><br></font></span></p><p style=\"margin: 0pt 0pt 0.0001pt; text-align: center; font-family: Calibri; font-size: 10.5pt; text-indent: 32.05pt; line-height: 300%;\"><img width=\"604\" height=\"360\" src=\"/edittest/ewebeditor/uploadfile/20230806234519493002.png\" align=\"center\"></p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-indent:32.0000pt;text-autospace:ideograph-numeric;line-height:30.0000pt;\">&nbsp;</p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-indent:0.0000pt;text-autospace:ideograph-numeric;line-height:30.0000pt;\"><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">&ensp;&ensp;&ensp;&ensp;梁栋指出，</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">南屏镇发展高峰牛产业</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">有基础，市场有前景，要系统谋划、稳步推进。</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">一是学习借鉴玉溪市华宁县发展柑橘产业成功经验，探索形成南屏</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">高峰牛产业发展的新模式</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">。二是通过</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">培养</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">致富带头人</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">和</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">引进</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">优质</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">企业</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">，进行</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">规模化</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">、标准化</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">养殖，形成示范带动效应。三是</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">聚力</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">打造在全国叫得响的</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">广南高峰牛</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">品牌</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">，推动高峰牛等农产品走向国内外市场。注重发挥民族特色文化对品牌的支撑作用，创办地域</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">特色</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">鲜明</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">、活动</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">内容</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">丰富的</font>“<font face=\"方正仿宋_GBK\">牛文化</font><font face=\"宋体\">”</font><font face=\"方正仿宋_GBK\">节，运用新媒体进行宣传推广</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">，</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">吸引人气和流量</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">。</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">四是抓住全党</font></span><span style=\"font-family:'Times New Roman';font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">开展主题教育</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">的</font></span><span style=\"font-family:'Times New Roman';font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">机会，把习近平新时代中国特色社会主义思想学深学透</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">，用党的创新理论武装头脑、指导实践、推动工作，在巩固脱贫攻坚成果、实施乡村振兴战略中创造佳绩。五是</font></span><span style=\"font-family:'Times New Roman';font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">要</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">充分发挥省政府研究室和驻村工作队员的智力优势，为推动广南县南屏镇乡村振兴工作贡献力量</font></span><span style=\"font-family:'Times New Roman';font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">。</font></span></p><p style=\"margin-left:10.0000pt;text-indent:-10.0000pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt\">&nbsp;</p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-indent:256.0000pt;text-autospace:ideograph-numeric;line-height:30.0000pt;\"><span style=\"font-family:方正楷体_GBK;font-size:16.0000pt;\"><font face=\"方正楷体_GBK\">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;（供稿：信息处）</font> &nbsp;</span></p>";
        String content = HtmlUtil.cleanHtmlTag(html);
        System.out.println("content = " + content);
        String removeAny = StrUtil.removeAny(content, "&nbsp;", "&ensp;");
        System.out.println("removeAny = " + removeAny);

        String escape = "&lt;html&gt;&lt;body&gt;&nbsp;123&#039;123&#039;&nbsp;&lt;/body&gt;&ensp;&lt;&ensp;/html&gt;";
        // 结果为：<html><body>123'123'</body></html>
        String escapeHtml = HtmlUtil.unescape(escape);
        System.out.println("escapeHtml = " + escapeHtml);

        String unescapeHtml = HtmlUtil.unescape(html);
        System.out.println("unescapeHtml = " + unescapeHtml);
        String unescape = HtmlUtil.cleanHtmlTag(unescapeHtml);
        System.out.println("unescape = " + unescape);

        Pattern compile = Pattern.compile("(?<=[\\u4e00-\\u9fa5])(?:&nbsp;|&ensp;)+");
        String replace = StrUtil.replace(content, compile, matcher -> "；");
        System.out.println("replace = " + replace);
        String unescapeReplace = HtmlUtil.unescape(replace);
        System.out.println("unescapeReplace = " + unescapeReplace);

        Pattern compile1 = Pattern.compile("</font>.*(?=</font></span>)");
        String replace1 = StrUtil.replace(html, compile1, matcher -> HtmlUtil.unwrapHtmlTag(matcher.group(), "font"));
        System.out.println("replace1 = " + replace1);

        // 包含多个 span 标签的输入字符串
        String input = "<div data-v-4f8cd50c=\"\" class=\"c_left\"><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-autospace:ideograph-numeric;line-height:30.0000pt;\">&nbsp;</p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-autospace:ideograph-numeric;line-height:30.0000pt;\">&nbsp;</p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-autospace:ideograph-numeric;text-align:center;line-height:30.0000pt;\" align=\"center\"><span style=\"font-family:方正小标宋_GBK;font-size:22.0000pt;\">云南省人民政府研究室党组</span><span style=\"font-family:方正小标宋_GBK;font-size:22.0000pt;\">理论学习中心组</span></p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-autospace:ideograph-numeric;text-align:center;line-height:30.0000pt;\" align=\"center\"><span style=\"font-family:方正小标宋_GBK;font-size:22.0000pt;\">组织开展</span><span style=\"font-family:方正小标宋_GBK;font-size:22.0000pt;\">2022年第8次学习</span></p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-autospace:ideograph-numeric;line-height:30.0000pt;\">&nbsp;</p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-indent:32.0000pt;text-autospace:ideograph-numeric;line-height:30.0000pt;\"><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\">8月26日，云南省人民政府研究室党组理论学习中心组组织开展第8次集中学习，</span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\">学习习近平</span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\">生态文明思想和省委、省政府</span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\">绿美云南建设</span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\">决策部署</span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\">，全室党员干部参加集中学习。集中学习研讨会上，收听收看省委理论学习中心组2022年第五次集中学习录音和PPT。</span></p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-indent:32.0000pt;text-autospace:ideograph-numeric;line-height:30.0000pt;\"><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\">会议指出，习近平生态文明思想，深刻回答了为什么建设生态文明、建设什么样的生态文明、怎样建设生态文明等重大理论和实践问题，深刻阐释了人与自然的关系、环境与民生的关系、发展与保护的关系、自然生态各要素之间的关系、国内与国际的关系，</span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\">是习近平新时代中国特色社会主义思想的重要组成部分</span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\">。</span></p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-indent:32.0000pt;text-autospace:ideograph-numeric;line-height:30.0000pt;\"><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\">会议强调，学深悟透习近平生态文明思想是做好以文辅政工作的基础和前提，要牢固树立全局观念、系统思维，在学深悟透习近平生态文明思想核心要义的基础上，深刻认识和理解保护生态环境是关系党的使命宗旨的重大政治问题和关系民生的重大社会问题，深刻认识和理解保护生态环境与经济社会发展之间辩证统一关系，跳出生态文明看生态文明，把推进生态文明建设放在自然规律、人类文明发展和经济社会发展的大背景下理解和把握，</span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\">为云南主动融入和服务国家战略、参与全球生态文明建设多出好点子、金点子</span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\">。</span></p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-indent:32.0000pt;text-autospace:ideograph-numeric;line-height:30.0000pt;\"><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\">会议强调，开展绿美云南建设，是省委、省政府团结带领全省干部群众，深入学习贯彻落实习近平生态文明思想和习近平总书记考察云南重要讲话精神，紧扣生态文明建设排头兵战略定位，深化创新实践途径的重大举措和重要抓手。省政府研究室要主动担当以文辅政职责使命，聚焦绿美城市建设、以人为核心的新型城镇化等方面加强调查研究，以改革的思维和创新的举措，回答好问题是什么、差距在哪里、目标怎么定、措施有哪些等问题，为推进绿美云南建设作出积极贡献。</span></p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-indent:32.0000pt;text-autospace:ideograph-numeric;line-height:30.0000pt;\"><br></p><p style=\"margin: 0pt 0pt 0.0001pt; text-align: justify; font-size: 10.5pt; text-indent: 32pt; line-height: 30pt;\"><span style=\"font-family: Calibri;\">                                            </span><span style=\"font-family: 仿宋, 仿宋_GB2312;\"><span style=\"font-size: 16pt;\"> </span><span style=\"font-size: 16pt;\">供稿：机关党委（人事处）&nbsp;</span></span></p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-autospace:ideograph-numeric;line-height:30.0000pt;\">&nbsp;</p></div>";
        // 定义匹配所有 span 标签（除第一个）的正则表达式
        Pattern spanPattern = Pattern.compile("</span><span.*?(?=</span>)");

        // 创建匹配器
        Matcher matcher = spanPattern.matcher(input);

        // 移除除第一个 span 标签外的所有其他 span 标签及其内容
        String result = matcher.replaceAll("222");

        // 输出更新后的字符串
        System.out.println("result = " + result);

        String replace2 = StrUtil.replace(input, spanPattern, matcher1 -> HtmlUtil.unwrapHtmlTag(matcher1.group(), "span"));
        System.out.println("replace2 = " + replace2);
    }

}
