package com.yuyun;

import cn.hutool.core.util.StrUtil;
import cn.hutool.http.HtmlUtil;
import org.junit.jupiter.api.Test;

import java.util.regex.Pattern;

/**
 * HuTool工具测试
 *
 * @author hyh
 * @since 2023-11-15
 */
public class HuToolTest {

    @Test
    void test(){
        String s = "0123@4560";
        String substring = s.substring(s.length() - 2);
        System.out.println("substring = " + substring);
        String s1 = StrUtil.subAfter(s, "@", true);
        String s2 = StrUtil.subAfter(s, "@", false);
        System.out.println("s1 = " + s1);
        System.out.println("s2 = " + s2);

        String s3 = StrUtil.removePrefix(s, "0");
        System.out.println("s3 = " + s3);

    }

    @Test
    void HtmlUtilTest(){
        String html = "<p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-autospace:ideograph-numeric;text-align:center;line-height:30.0000pt;\" align=\"center\">&nbsp;</p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-autospace:ideograph-numeric;text-align:center;line-height:30.0000pt;\" align=\"center\">&nbsp;</p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-autospace:ideograph-numeric;text-align:center;line-height:30.0000pt;\" align=\"center\"><span style=\"font-family:宋体;font-size:22.0000pt;\"><font face=\"方正小标宋_GBK\">梁栋</font></span><span style=\"font-family:方正小标宋_GBK;font-size:22.0000pt;\"><font face=\"方正小标宋_GBK\">带队</font></span><span style=\"font-family:宋体;font-size:22.0000pt;\"><font face=\"方正小标宋_GBK\">赴广南县南屏镇</font></span><span style=\"font-family:方正小标宋_GBK;font-size:22.0000pt;\"><font face=\"方正小标宋_GBK\">开展定点帮扶工作</font></span></p><p style=\"margin-left:10.0000pt;text-indent:-10.0000pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-autospace:ideograph-numeric;text-align:center;line-height:30.0000pt;\" align=\"center\">&nbsp;</p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-autospace:ideograph-numeric;text-align:justify;text-justify:inter-ideograph;line-height:30.0000pt;\" align=\"justify\"><span style=\"font-family:宋体;font-size:16.0000pt;\">&ensp;&ensp;2023<font face=\"方正仿宋_GBK\">年</font><font face=\"宋体\">7</font><font face=\"方正仿宋_GBK\">月</font><font face=\"宋体\">27</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">、</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\">28<font face=\"方正仿宋_GBK\">日，省政府研究室党组成员、副主任梁栋率</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">队</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">到广南县南屏镇老街村、小阿幕村</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">，</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">向基层干部群众宣讲党的二十大精神</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">，</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">实地走访农户，了解当地产业建设情况</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">，看望驻村工作队员。</font></span></p><p style=\"margin-left:10.0000pt;text-indent:-10.0000pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt\">&nbsp;</p><p style=\"margin: 0pt 0pt 0.0001pt; text-align: center; font-family: Calibri; font-size: 10.5pt;\"><img width=\"603\" height=\"351\" src=\"/edittest/ewebeditor/uploadfile/20230806234518391001.png\" align=\"center\"></p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-indent:32.0000pt;line-height:30.0000pt;\">&nbsp;</p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-indent:32.0000pt;line-height:30.0000pt;\"><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">调研组一行</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">先后</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">到老街村</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">的</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">小冲</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">和</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">木丁村小组</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">、小阿</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">幕村</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">的</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">小阿幕村小组，走</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">访脱贫</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">农户</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">，</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">向基层干部群众宣讲党的二十大精神</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">，</font></span><span style=\"font-family:'Times New Roman';font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">与镇</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">村干部、</font></span><span style=\"font-family:'Times New Roman';font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">驻村工作队</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">员深入</font></span><span style=\"font-family:'Times New Roman';font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">座谈</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">，</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">了解农民增收</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">、</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">高峰牛养殖</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">专业村和</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">绿美村庄建设</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">进展</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">情况</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">，</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">探讨定点帮扶中出现的新情况新问题。</font></span></p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-indent:32.0000pt;line-height:30.0000pt;\"><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\"><br></font></span></p><p style=\"margin: 0pt 0pt 0.0001pt; text-align: center; font-family: Calibri; font-size: 10.5pt; text-indent: 32.05pt; line-height: 300%;\"><img width=\"604\" height=\"360\" src=\"/edittest/ewebeditor/uploadfile/20230806234519493002.png\" align=\"center\"></p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-indent:32.0000pt;text-autospace:ideograph-numeric;line-height:30.0000pt;\">&nbsp;</p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-indent:0.0000pt;text-autospace:ideograph-numeric;line-height:30.0000pt;\"><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">&ensp;&ensp;&ensp;&ensp;梁栋指出，</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">南屏镇发展高峰牛产业</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">有基础，市场有前景，要系统谋划、稳步推进。</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">一是学习借鉴玉溪市华宁县发展柑橘产业成功经验，探索形成南屏</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">高峰牛产业发展的新模式</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">。二是通过</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">培养</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">致富带头人</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">和</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">引进</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">优质</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">企业</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">，进行</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">规模化</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">、标准化</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">养殖，形成示范带动效应。三是</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">聚力</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">打造在全国叫得响的</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">广南高峰牛</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">品牌</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">，推动高峰牛等农产品走向国内外市场。注重发挥民族特色文化对品牌的支撑作用，创办地域</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">特色</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">鲜明</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">、活动</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">内容</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">丰富的</font>“<font face=\"方正仿宋_GBK\">牛文化</font><font face=\"宋体\">”</font><font face=\"方正仿宋_GBK\">节，运用新媒体进行宣传推广</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">，</font></span><span style=\"font-family:宋体;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">吸引人气和流量</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">。</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">四是抓住全党</font></span><span style=\"font-family:'Times New Roman';font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">开展主题教育</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">的</font></span><span style=\"font-family:'Times New Roman';font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">机会，把习近平新时代中国特色社会主义思想学深学透</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">，用党的创新理论武装头脑、指导实践、推动工作，在巩固脱贫攻坚成果、实施乡村振兴战略中创造佳绩。五是</font></span><span style=\"font-family:'Times New Roman';font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">要</font></span><span style=\"font-family:方正仿宋_GBK;font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">充分发挥省政府研究室和驻村工作队员的智力优势，为推动广南县南屏镇乡村振兴工作贡献力量</font></span><span style=\"font-family:'Times New Roman';font-size:16.0000pt;\"><font face=\"方正仿宋_GBK\">。</font></span></p><p style=\"margin-left:10.0000pt;text-indent:-10.0000pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt\">&nbsp;</p><p style=\"margin:0pt;margin-bottom:.0001pt;text-align:justify;text-justify:inter-ideograph;font-family:Calibri;font-size:10.5000pt;text-indent:256.0000pt;text-autospace:ideograph-numeric;line-height:30.0000pt;\"><span style=\"font-family:方正楷体_GBK;font-size:16.0000pt;\"><font face=\"方正楷体_GBK\">&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;&ensp;（供稿：信息处）</font> &nbsp;</span></p>";
        String content = HtmlUtil.cleanHtmlTag(html);
        System.out.println("content = " + content);
        String removeAny = StrUtil.removeAny(content, "&nbsp;", "&ensp;");
        System.out.println("removeAny = " + removeAny);

        String escape = "&lt;html&gt;&lt;body&gt;&nbsp;123&#039;123&#039;&nbsp;&lt;/body&gt;&ensp;&lt;&ensp;/html&gt;";
        // 结果为：<html><body>123'123'</body></html>
        String escapeHtml = HtmlUtil.unescape(escape);
        System.out.println("escapeHtml = " + escapeHtml);

        String unescapeHtml = HtmlUtil.unescape(html);
        System.out.println("unescapeHtml = " + unescapeHtml);
        String unescape = HtmlUtil.cleanHtmlTag(unescapeHtml);
        System.out.println("unescape = " + unescape);

        Pattern compile = Pattern.compile("(?<=[\\u4e00-\\u9fa5])(?:&nbsp;|&ensp;)+");
        String replace = StrUtil.replace(content, compile, matcher -> "；");
        System.out.println("replace = " + replace);
        String unescapeReplace = HtmlUtil.unescape(replace);
        System.out.println("unescapeReplace = " + unescapeReplace);
    }

}
